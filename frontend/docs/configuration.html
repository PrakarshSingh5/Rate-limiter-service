<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Configuration - Rate Limiter Service</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../styles.css">
</head>
<body>
    <nav class="navbar">
        <div class="container">
            <div class="nav-brand">
                <a href="../index.html" style="display: flex; align-items: center; gap: 12px; text-decoration: none;">
                    <svg class="logo-icon" width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M16 2L4 8V14C4 21.18 8.84 27.62 16 29C23.16 27.62 28 21.18 28 14V8L16 2Z" fill="#10B981" stroke="#10B981" stroke-width="2"/>
                        <path d="M16 12V20M12 16H20" stroke="white" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                    <span class="brand-name">Rate Limiter Service</span>
                </a>
            </div>
            <button class="mobile-menu-toggle" aria-label="Toggle menu">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <ul class="nav-links">
                <li><a href="../index.html#features">Features</a></li>
                <li><a href="getting-started.html">Getting Started</a></li>
                <li><a href="integration.html">Integration</a></li>
                <li><a href="api-reference.html">API Reference</a></li>
                <li><a href="configuration.html" class="active" style="color: var(--primary-green);">Config</a></li>
            </ul>
        </div>
    </nav>

    <div class="container" style="padding-top: 40px; padding-bottom: 80px;">
        <div class="hero-content" style="margin-bottom: 60px;">
            <h1 class="hero-title" style="font-size: 2.5rem;">Configuration Guide</h1>
            <p class="hero-subtitle">Environment variables and fine-tuning your rate limiter instance.</p>
        </div>

        <section id="env-vars">
            <h2 class="section-title" style="text-align: left;">Environment Variables</h2>
            <p>The service is configured primarily via environment variables. These can be set in a <code>.env</code> file or passed directly to the container.</p>
            
            <div style="overflow-x: auto; margin-top: 20px;">
                <table style="width: 100%; border-collapse: collapse; min-width: 600px;">
                    <thead>
                        <tr style="background-color: var(--gray-100); text-align: left;">
                            <th style="padding: 12px; border: 1px solid var(--gray-200);">Variable</th>
                            <th style="padding: 12px; border: 1px solid var(--gray-200);">Default</th>
                            <th style="padding: 12px; border: 1px solid var(--gray-200);">Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td style="padding: 12px; border: 1px solid var(--gray-200); font-family: monospace;">NODE_ENV</td>
                            <td style="padding: 12px; border: 1px solid var(--gray-200);">development</td>
                            <td style="padding: 12px; border: 1px solid var(--gray-200);">Environment mode (production, development, test)</td>
                        </tr>
                        <tr>
                            <td style="padding: 12px; border: 1px solid var(--gray-200); font-family: monospace;">REST_PORT</td>
                            <td style="padding: 12px; border: 1px solid var(--gray-200);">3000</td>
                            <td style="padding: 12px; border: 1px solid var(--gray-200);">Port for REST API server</td>
                        </tr>
                        <tr>
                            <td style="padding: 12px; border: 1px solid var(--gray-200); font-family: monospace;">GRPC_PORT</td>
                            <td style="padding: 12px; border: 1px solid var(--gray-200);">50051</td>
                            <td style="padding: 12px; border: 1px solid var(--gray-200);">Port for gRPC server</td>
                        </tr>
                        <tr>
                            <td style="padding: 12px; border: 1px solid var(--gray-200); font-family: monospace;">REDIS_HOST</td>
                            <td style="padding: 12px; border: 1px solid var(--gray-200);">localhost</td>
                            <td style="padding: 12px; border: 1px solid var(--gray-200);">Hostname of Redis server</td>
                        </tr>
                        <tr>
                            <td style="padding: 12px; border: 1px solid var(--gray-200); font-family: monospace;">REDIS_PORT</td>
                            <td style="padding: 12px; border: 1px solid var(--gray-200);">6379</td>
                            <td style="padding: 12px; border: 1px solid var(--gray-200);">Port of Redis server</td>
                        </tr>
                        <tr>
                            <td style="padding: 12px; border: 1px solid var(--gray-200); font-family: monospace;">WEBHOOK_TIMEOUT</td>
                            <td style="padding: 12px; border: 1px solid var(--gray-200);">5000</td>
                            <td style="padding: 12px; border: 1px solid var(--gray-200);">Timeout for webhook requests (ms)</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <section id="redis-setup">
            <h2 class="section-title" style="text-align: left; margin-top: 60px;">Redis Configuration</h2>
            <p>For production, we recommend using a highly available Redis setup (e.g., Redis Sentinel or Cluster).</p>
            
            <h3 style="margin-top: 20px; font-size: 1.25rem;">Connection Methods</h3>
            <p>The service supports standard Redis connection strings via <code>REDIS_URL</code> if preferred:</p>
            <div class="code-block">
                <pre><code>REDIS_URL=redis://:password@host:port/db</code></pre>
            </div>
        </section>

        <section id="docker">
            <h2 class="section-title" style="text-align: left; margin-top: 60px;">Docker Deployment</h2>
            <p>A ready-to-use <code>Dockerfile</code> and <code>docker-compose.yml</code> are included.</p>
            
            <div class="code-block">
                <button class="copy-btn" data-clipboard-target="docker-compose">Copy</button>
                <pre><code id="docker-compose">version: '3.8'
services:
  app:
    build: .
    ports:
      - "3000:3000"
      - "50051:50051"
    environment:
      - REDIS_HOST=redis
    depends_on:
      - redis

  redis:
    image: redis:alpine
    ports:
      - "6379:6379"</code></pre>
            </div>
        </section>
    </div>

    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>Rate Limiter Service</h4>
                    <p>Production-ready API rate limiting for modern applications.</p>
                </div>
                <div class="footer-section">
                    <h4>Documentation</h4>
                    <ul>
                        <li><a href="getting-started.html">Getting Started</a></li>
                        <li><a href="integration.html">Integration Guide</a></li>
                        <li><a href="api-reference.html">API Reference</a></li>
                        <li><a href="configuration.html">Configuration</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Resources</h4>
                    <ul>
                        <li><a href="https://github.com/PrakarshSingh5/Rate-limiter-service">GitHub</a></li>
                        <li><a href="https://github.com/PrakarshSingh5/Rate-limiter-service/issues">Issues</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 Rate Limiter Service. Released under the MIT License.</p>
            </div>
        </div>
    </footer>
    <script src="../script.js"></script>
</body>
</html>
